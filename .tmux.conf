# list of plugins
set -g @plugin 'tmux-plugins/tmux-sensible'
# set -g @plugin 'nordtheme/tmux'
set -g @plugin 'jaclu/tmux-menus'
set -g @plugin 'TheSast/tmux-nav-master'
set -g @plugin 'MunifTanjim/tmux-suspend'
set -g @plugin 'MunifTanjim/tmux-mode-indicator'
# set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'tmux-plugins/tpm'

# tmux menus @ prefix + s
set -g @menus_trigger 's'

# mouse mode and vi keys
set -g mouse on
setw -g mode-keys vi

# start windows at 1
set -g base-index 1
setw -g pane-base-index 1
set-option -g renumber-windows on

# status at the top
set-option -g status-position top 
set-option -g allow-rename off

# fix colors
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",foot:Tc"

# Let panes remain in place when their command exits.
# set -g remain-on-exit on
# set-hook -g pane-died "if -F '#{&&:#{==:#{session_windows},1},#{==:#{window_panes},1}}' 'respawn-pane' 'kill-pane'"

# Ctrl + Space prefix
set -g prefix C-Space

# pane splits with prefix + j/l
unbind l
unbind j
bind l split-window -h -l 40% -c "#{pane_current_path}"
bind j split-window -v -l 15% -c "#{pane_current_path}"

# theme
set -g status on
set -g status-interval 1
set -g status-justify left
set -g status-style bg=black,fg=white
set -g pane-border-style bg=default,fg=blue
set -g display-panes-colour black
set -g display-panes-active-colour brightblack
setw -g clock-mode-colour cyan
set -g message-style bg=brightblack,fg=cyan
set -g message-command-style bg=brightblack,fg=cyan

# status bar
# set -g status-left "#[fg=black,bg=blue,bold]#{tmux_mode_indicator}#[fg=blue,bg=black,nobold,noitalics,nounderscore]"
set -g status-left "#{tmux_mode_indicator}"
set -g status-left-style "bg=blue,fg=black"
set -g status-right "#[fg=brightblack,bg=black,nobold,noitalics,nounderscore]#[fg=white,bg=brightblack] #S #[fg=cyan,bg=brightblack,nobold,noitalics,nounderscore]#[fg=black,bg=cyan,bold] #H "

# windows
set -g window-status-format "#[fg=black,bg=brightblack,nobold,noitalics,nounderscore] #[fg=white,bg=brightblack]#I #[fg=white,bg=brightblack,nobold,noitalics,nounderscore] #[fg=white,bg=brightblack]#W #F #[fg=brightblack,bg=black,nobold,noitalics,nounderscore]"
set -g window-status-current-format "#[fg=black,bg=cyan,nobold,noitalics,nounderscore] #[fg=black,bg=cyan]#I #[fg=black,bg=cyan,nobold,noitalics,nounderscore] #[fg=black,bg=cyan]#W #F #[fg=cyan,bg=black,nobold,noitalics,nounderscore]"
set -g window-status-separator ""

# mode indicator
set -g @mode_indicator_prefix_prompt ' WAIT '
set -g @mode_indicator_copy_prompt ' COPY '
set -g @mode_indicator_sync_prompt ' SYNC '
set -g @mode_indicator_empty_prompt ' TMUX '
set -g @mode_indicator_prefix_mode_style 'bg=blue,fg=black'
set -g @mode_indicator_copy_mode_style 'bg=yellow,fg=black'
set -g @mode_indicator_sync_mode_style 'bg=red,fg=black'
set -g @mode_indicator_empty_mode_style 'bg=blue,fg=black'
set -g @suspend_suspended_options " \
  @mode_indicator_custom_prompt:: ---- , \
  @mode_indicator_custom_mode_style::bg=brightblack\\,fg=black, \
"

# automatic installation of tpm
if "test ! -d ~/.tmux/plugins/tpm" \
  "run 'git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm && ~/ qmux/plugins/tpm/bin/install_plugins'"


run '~/.tmux/plugins/tpm/tpm'
